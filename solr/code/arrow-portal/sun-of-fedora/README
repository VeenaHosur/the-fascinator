Sun of Fedora
=============

This application is a web portal front-end for searching institutional
repositories. It is based on the Apache Solr indexing software.

Requirements
============

  * Java 5 (or greater)
  * Apache Tomcat 5 (or greater)
  * Maven 2

Installation
============

1. Check out the source code.

   svn co https://rubric-central.usq.edu.au/solrsvn/public/sun-of-fedora
   cd sun-of-fedora

2. Check out the default portal configuration.

   mkdir /opt/sun-of-fedora
   cd /opt/sun-of-fedora
   svn co https://rubric-central.usq.edu.au/solrsvn/solr/code/sun-of-fedora/src/main/config/portal

   Alternatively, skip this step and use the full path to src/main/config/portal
   in Step 3.

3. Copy the sample configuration files and configure them to use the directory
   in Step 2 above. Also configure your LDAP settings in config.properties.

   cd src/main/webapp/WEB-INF
   cp config.properties.sample config.properties
   cp velocity.properties.sample velocity.properties

   config.properties:
     portals.dir = /opt/sun-of-fedora/portal

   velocity.properties:
     file.resource.loader.path = /opt/sun-of-fedora/portal

4. Build the web package using Maven. This will create the web archive:
   target/sun-of-fedora.war.

   mvn compile war:war

5. Copy the web package to your Tomcat's webapps directory.

   cp target/sun-of-fedora.war /opt/fedora/tomcat/webapps

6. Startup Tomcat and open a browser to http://$server:$port/sun-of-fedora to
   test if the application was deployed correctly.

Portal customisation
====================
Each portal can be given a distinct look and feel by using Velocity templates
and stylesheets (CSS). The templates are located in the portal configuration
directory (see Step 2 of Installation section). The default look and feel is
located in the 'default' directory and provides an example of how the templates
are written.

When a portal is created in the webapp, a new directory is created with the
portal.xml configuration file. Templates can be copied from the 'default'
directory and customised as required.

