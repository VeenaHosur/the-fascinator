<?xml version="1.0" encoding="UTF-8"?>
<schema name="dublin-core" version="1.1">
    <types>
        <!-- exact text -->
        <fieldType name="string" class="solr.StrField" sortMissingLast="true" omitNorms="true" />
        <!-- tokenized -->
        <fieldtype name="text" class="solr.TextField" positionIncrementGap="100">
            <analyzer type="index">
                <tokenizer class="solr.WhitespaceTokenizerFactory" />
                <filter class="solr.StopFilterFactory" ignoreCase="true" />
                <filter class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1" catenateWords="1" catenateNumbers="1"
                    catenateAll="0" />
                <filter class="solr.LowerCaseFilterFactory" />
                <filter class="solr.EnglishPorterFilterFactory" protected="protwords.txt" />
                <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
            </analyzer>
            <analyzer type="query">
                <tokenizer class="solr.WhitespaceTokenizerFactory" />
                <filter class="solr.SynonymFilterFactory" synonyms="synonyms.txt" ignoreCase="true" expand="true" />
                <filter class="solr.StopFilterFactory" ignoreCase="true" />
                <filter class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1" catenateWords="0" catenateNumbers="0"
                    catenateAll="0" />
                <filter class="solr.LowerCaseFilterFactory" />
                <filter class="solr.EnglishPorterFilterFactory" protected="protwords.txt" />
                <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
            </analyzer>
        </fieldtype>
    </types>
    <fields>
        <!-- tokenized -->
        <field name="contributor" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="coverage" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="creator" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="date" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="description" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="format" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="identifier" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="language" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="publisher" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="relation" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="rights" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="source" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="subject" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="title" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="automatic_terms" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="type" type="text" indexed="true" stored="true" multiValued="true" />
        <field name="collection" type="text" indexed="true" stored="true" multiValued="true" />
        <!-- non-tokenized -->
        <field name="f_contributor" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_coverage" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_creator" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_date" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_format" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_identifier" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_language" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_publisher" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_relation" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_rights" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_source" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_subject" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_automatic_terms" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_type" type="string" indexed="true" stored="true" multiValued="true" />
        <field name="f_collection" type="text" indexed="true" stored="true" multiValued="true" />
        <!-- non-dublin core -->
        <field name="id" type="string" indexed="true" stored="true" required="true" />
        <field name="pid" type="string" indexed="true" stored="true" />
        <field name="repository_name" type="string" indexed="true" stored="false" />
        <field name="text" type="text" indexed="true" stored="false" multiValued="true" />
        <field name="full_text" type="text" indexed="true" stored="false" multiValued="true"/>
        <!-- sof -->
        <field name="group_access" type="string" indexed="true" stored="false" multiValued="true"/>
        <field name="item_class" type="string" indexed="true" stored="false" multiValued="true"/>
        <field name="item_type" type="string" indexed="true" stored="false" multiValued="true"/>
    </fields>
    <uniqueKey>id</uniqueKey>
    <defaultSearchField>full_text</defaultSearchField>
    <solrQueryParser defaultOperator="AND" />
    <!-- full metadata text -->
    <copyField source="contributor" dest="text" />
    <copyField source="coverage" dest="text" />
    <copyField source="creator" dest="text" />
    <copyField source="date" dest="text" />
    <copyField source="description" dest="text" />
    <copyField source="format" dest="text" />
    <copyField source="identifier" dest="text" />
    <copyField source="language" dest="text" />
    <copyField source="publisher" dest="text" />
    <copyField source="relation" dest="text" />
    <copyField source="rights" dest="text" />
    <copyField source="source" dest="text" />
    <copyField source="subject" dest="text" />
    <copyField source="title" dest="text" />
    <copyField source="type" dest="text" />
    <copyField source="collection" dest="text" />
    <!-- facets -->
    <copyField source="contributor" dest="f_contributor" />
    <copyField source="coverage" dest="f_coverage" />
    <copyField source="creator" dest="f_creator" />
    <copyField source="date" dest="f_date" />
    <copyField source="format" dest="f_format" />
    <copyField source="identifier" dest="f_identifier" />
    <copyField source="language" dest="f_language" />
    <copyField source="publisher" dest="f_publisher" />
    <copyField source="relation" dest="f_relation" />
    <copyField source="rights" dest="f_rights" />
    <copyField source="source" dest="f_source" />
    <copyField source="subject" dest="f_subject" />
    <copyField source="automatic_terms" dest="f_automatic_terms" />
    <copyField source="type" dest="f_type" />
    <copyField source="collection" dest="f_collection" />
    <!-- full text -->
    <copyField source="contributor" dest="full_text" />
    <copyField source="coverage" dest="full_text" />
    <copyField source="creator" dest="full_text" />
    <copyField source="date" dest="full_text" />
    <copyField source="description" dest="full_text" />
    <copyField source="format" dest="full_text" />
    <copyField source="identifier" dest="full_text" />
    <copyField source="language" dest="full_text" />
    <copyField source="publisher" dest="full_text" />
    <copyField source="relation" dest="full_text" />
    <copyField source="rights" dest="full_text" />
    <copyField source="source" dest="full_text" />
    <copyField source="subject" dest="full_text" />
    <copyField source="title" dest="full_text" />
    <copyField source="type" dest="full_text" />
    <copyField source="collection" dest="full_text" />
</schema>
